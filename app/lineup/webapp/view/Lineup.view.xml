<mvc:View
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:core="sap.ui.core"
  xmlns:unified="sap.ui.unified"
  controllerName="apm.lineup.controller.Lineup"
  height="100%">

  <App height="100%" class="sapUiSizeCozy">
    <Page
      id="paginaLineUp"
      title="Line-up &amp; Planning"
      showNavButton="true"
      navButtonPress=".onNavBack"
      enableScrolling="false">

      <content>
        <VBox width="100%" height="100%">

          <OverflowToolbar>
            <Label text="Stage" labelFor="selStage"/>
            <Select
              id="selStage"
              width="14rem"
              selectedKey="{filters>/selectedStageId}"
              change=".onFilterChange"
              items="{filters>/stages}">
              <core:Item key="{filters>ID}" text="{filters>stageNaam}"/>
            </Select>

            <ToolbarSpacer width="0.5rem"/>

            <Label text="Artiest" labelFor="selArtiest"/>
            <Select
              id="selArtiest"
              width="16rem"
              selectedKey="{filters>/selectedArtiestId}"
              change=".onFilterChange"
              items="{filters>/artiesten}">
              <core:Item key="{filters>ID}" text="{filters>artiestNaam}"/>
            </Select>

            <ToolbarSpacer/>

            <Label text="Weergave" labelFor="selView"/>
            <Select
              id="selView"
              width="12rem"
              selectedKey="{lineup>/viewKey}"
              change=".onViewChange"
              items="{filters>/views}">
              <core:Item key="{filters>key}" text="{filters>text}"/>
            </Select>

            <ToolbarSeparator/>
            <Button text="Vernieuwen" press=".onRefresh"/>
          </OverflowToolbar>

          <PlanningCalendar
            id="pcLineUp"
            height="100%"
            startDate="{lineup>/startDate}"
            viewKey="{lineup>/viewKey}"
            appointmentSelect=".onAppointmentSelect"
            rows="{lineup>/rows}"
            showEmptyIntervalHeaders="true"
            showIntervalHeaders="true"
            stickyHeader="true">

            <views>
              <PlanningCalendarView key="Day" intervalType="Hour" description="Dag" intervalsS="12" intervalsM="15" intervalsL="15"/>
              <PlanningCalendarView key="Week" intervalType="Day" description="Week" intervalsS="3" intervalsM="7" intervalsL="7"/>
            </views>

            <rows>
              <PlanningCalendarRow
                title="{lineup>stageNaam}"
                text="{lineup>stageSubText}"
                icon="sap-icon://microphone"
                enableAppointmentsDragAndDrop="false"
                enableAppointmentsResize="false"
                appointments="{
                  path: 'lineup>appointments',
                  templateShareable: false
                }">

                <appointments>
                  <unified:CalendarAppointment
                    title="{lineup>title}"
                    text="{lineup>text}"
                    startDate="{lineup>startDate}"
                    endDate="{lineup>endDate}" />
                </appointments>

              </PlanningCalendarRow>
            </rows>

          </PlanningCalendar>

        </VBox>
      </content>
    </Page>
  </App>

</mvc:View>

<mvc:View
  controllerName="apm.artist.controller.Detail"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m">

  <Page
    title="{name}"
    showNavButton="true"
    navButtonPress="onNavBack"
    class="sapUiContentPadding">

    <content>

      <ObjectHeader title="{name}">
        <attributes>
          <ObjectAttribute title="Genre" text="{genre}" />
          <ObjectAttribute title="Country" text="{country}" />
        </attributes>
      </ObjectHeader>

      <!-- SOCIAL LINKS -->
      <HBox class="sapUiSmallMarginTop" alignItems="Center" justifyContent="Start">
        <!-- tijdelijk visible=true zodat je ze ziet -->
        <Button text="Spotify" icon="sap-icon://music-note" type="Transparent" visible="true" press="onOpenSpotify"/>
        <Button text="Instagram" icon="sap-icon://camera" type="Transparent" visible="true" press="onOpenInstagram"/>
      </HBox>

      <!-- AUDIENCE FEEDBACK: avg + reviews + add -->
      <Panel headerText="Audience Feedback" expandable="true" expanded="true" class="sapUiSmallMarginTop">

        <HBox justifyContent="SpaceBetween" alignItems="Center" class="sapUiSmallMarginBottom">
          <VBox>
            <Title text="Average Rating" level="H4"/>
            <Text text="{= ${view>/reviewCount} + ' review(s)'}"/>
          </VBox>

          <RatingIndicator value="{view>/avgRating}" maxValue="5" editable="false"/>
        </HBox>

        <Toolbar>
          <Title text="Reviews" level="H5"/>
          <ToolbarSpacer/>
          <Button text="Add Review" icon="sap-icon://add" type="Emphasized" press="onOpenAddReview"/>
        </Toolbar>

        <List items="{reviews}" noDataText="No reviews yet. Be the first to review!">
          <items>
            <ObjectListItem title="{customerName}" number="{rating}" numberUnit="/5">
              <attributes>
                <ObjectAttribute text="{reviewDate}" />
                <ObjectAttribute text="{comment}" />
              </attributes>
            </ObjectListItem>
          </items>
        </List>

      </Panel>

    </content>
  </Page>

</mvc:View>

<mvc:View
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:core="sap.ui.core"
  controllerName="apm.orders.controller.OrderList">

  <Page title="Orders">
    <content>

      <Toolbar>
        <SearchField width="20rem" placeholder="Zoek op klantnaam" liveChange="onSearch" />
        <ToolbarSpacer />

        <Select width="10rem" change="onFilterStatus">
          <items>
            <core:Item key="" text="Alle statussen" />
            <core:Item key="OPEN" text="Open" />
            <core:Item key="PAID" text="Betaald" />
            <core:Item key="CANCELLED" text="Geannuleerd" />
          </items>
        </Select>

        <Select width="10rem" change="onFilterType">
          <items>
            <core:Item key="" text="Alle types" />
            <core:Item key="TICKETS" text="Tickets" />
            <core:Item key="MERCH" text="Merch" />
           <core:Item key="FOOD" text="Food &amp; Drinks" />

          </items>
        </Select>

        <Button icon="sap-icon://sort" tooltip="Sorteer op datum" press="onSortByDate" />
        <Button text="Nieuwe Order" type="Emphasized" press="onCreateOrder" />
      </Toolbar>

    <List
  id="ordersList"
  items="{
    path: '/Orders',
    parameters: { $expand: 'customer' }
  }">

  <ObjectListItem
    title="{= ${customer/name} || 'Onbekende klant' }"
    number="{total}"
    numberUnit="EUR"
    intro="{orderDate}"
    type="Active"
    press="onPressOrder">

    <attributes>
      <ObjectAttribute text="{= 'Type: ' + ${type} }" />
    </attributes>

    <firstStatus>
      <ObjectStatus
        text="{status}"
        state="{= ${status} === 'PAID' ? 'Success' : (${status} === 'CANCELLED' ? 'Error' : 'Warning') }" />
    </firstStatus>

  </ObjectListItem>

</List>


    </content>
  </Page>
</mvc:View>
